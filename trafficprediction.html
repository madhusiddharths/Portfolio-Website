<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Traffic Prediction</title>
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="./css/font-root-styles/general-sans.css" />
    <link rel="stylesheet" href="./css/font-root-styles/okinesans.css" />
    <link rel="stylesheet" href="./css/font-root-styles/satoshi.css" />
</head>
<body>

<header>
    <h1>Traffic Prediction</h1>
    <div class="separator"></div>
</header>

<main>
    <article>
        <section style="width: 100%; margin: 0 auto;">
            <h2>Overview</h2>
            <p>This project forecasts traffic conditions and generates optimized travel routes
                using a Random Forest Regressor for prediction and Dijkstra’s algorithm for route
                planning. To improve accuracy, it incorporates real-time and historical traffic data,
                along with roadblock and accident reports scraped from news websites using the Beautiful
                Soup library. Interactive route visualizations are created with Folium.</p>
        </section>

        <section style="width: 100%; margin: 0 auto;">
            <h2>Data Preprocessing</h2>
            <p>The dataset used in this project was the <strong>CalTrans traffic dataset</strong> for the city of San Francisco. Key steps in preprocessing included:</p>
            <ul>
                <li>The raw data came as multiple text files — one per day — sampled every 5 minutes.</li>
                <li><code>Regex</code> was used to extract relevant information and compile it into a <code>pandas</code> DataFrame.</li>
                <li>Main columns included: <em>date</em>, <em>time</em>, <em>section</em>, <em>district</em>, <em>lane</em>, <em>flow</em>, and others.</li>
                <li>A specific region within San Francisco was filtered for focused analysis.</li>
                <li>Missing values were handled using a <strong>KNN imputer</strong>.</li>
                <li>The final dataset consisted of <strong>315,359 entries</strong>, representing approximately 3 years of data.</li>
            </ul>
        </section>

        <section style="width: 100%; margin: 0 auto;">
            <figure style="margin: 2rem 0; text-align: center;">
                <img src="img/dailytraffic.png" alt="Traffic sensor map of San Francisco"
                     style="max-width:600px; width: 100%; height:auto; border:1px solid #ccc; margin-bottom: 1.5rem;" />
                <figcaption style="font-style: italic; color: #666; margin-top: 0.5rem;">
                    Figure 1: Daily traffic in San Francisco.
                </figcaption>
            </figure>
            <p>This image illustrates the daily traffic patterns in San Francisco. Dates highlighted in red represent
                Sundays. The data reveals a consistent trend across all days: traffic volume increases in the morning,
                peaks around midday, and gradually declines afterward — regardless of whether it’s a weekday or weekend.</p>
        </section>

        <section style="width: 100%; margin: 0 auto;">
            <figure style="margin: 2rem 0; text-align: center;">
                <img src="img/hourlytraffic.png" alt="Timeline of sensor activity"
                     style="max-width:600px; width: 100%; height:auto; border:1px solid #ccc; margin-bottom: 1.5rem;" />
                <figcaption style="font-style: italic; color: #666; margin-top: 0.5rem;">
                    Figure 2: Hourly traffic on a particular day.
                </figcaption>
            </figure>
            <p>This image displays the hourly traffic volume across different lanes. The graph shows two distinct peaks —
                one in the morning and another in the evening — reflecting typical commute times during standard
                working hours.</p>
        </section>

        <section style="width: 100%; margin: 0 auto;">
            <h2>Approach</h2>
            <p>
                We began by experimenting with <strong>ARIMA models</strong>, which are well-suited for capturing patterns in time series data. However, due to the high frequency and complexity of the dataset, even advanced ARIMA configurations struggled to accurately model the traffic trends.
            </p>
            <p>
                As a result, we shifted to a <strong>machine learning-based approach</strong>. Temporal features such as <em>minute, hour, and day of the week</em> were extracted and included as model inputs to better capture periodic patterns.
            </p>
            <p>
                We evaluated three primary models based on the nature of the data:
            </p>
            <ul>
                <li><strong>Polynomial Regression</strong></li>
                <li><strong>Ridge Regression</strong></li>
                <li><strong>Random Forest Regressor</strong></li>
            </ul>
            <p>
                Among these, the <strong>Random Forest Regressor</strong> outperformed the others, offering the best balance of accuracy and generalization for our traffic prediction task.
            </p>
        </section>

        <section style="width: 100%; margin: 0 auto;">
            <figure style="margin: 2rem 0; text-align: center;">
                <img src="img/prediction.png" alt="Timeline of sensor activity"
                     style="max-width:600px; width: 100%; height:auto; border:1px solid #ccc; margin-bottom: 1.5rem;" />
                <figcaption style="font-style: italic; color: #666; margin-top: 0.5rem;">
                    Figure 3: Random Forest regressor prediction.
                </figcaption>
            </figure>
            <p> As shown in the image, the predicted values closely align with the actual traffic data. While the model slightly
                overfits in certain regions, it still struggles to predict extreme values accurately. These outliers were not removed,
                as they may correspond to special events or public holidays in the city. In future iterations, we plan to include
                such contextual factors as additional features to improve the model's performance. </p>
        </section>

        <section style="width: 100%; margin: 0 auto;">
            <h2>Web Scraping</h2>
            <p>
                To account for external factors that could impact traffic patterns — such as city events, road closures,
                or accidents — we utilized information from local news websites. Using the Python library <code>BeautifulSoup</code>,
                we performed web scraping to extract relevant updates that could serve as contextual features in our model.
            </p>
        </section>

        <section style="width: 100%; margin: 0 auto;">
            <h2>Maps</h2>
            <p>
                We integrated the model predictions and event data from web scraping into a weighted graph network, where edge weights reflect traffic conditions. This network allows us to compute the most efficient routes across the city.
            </p>
            <p>
                For pathfinding, we initially implemented <strong>Dijkstra’s algorithm</strong>. While effective, it can become computationally expensive for larger graphs — in such cases, <strong>A* search</strong> serves as a more scalable alternative.
            </p>
            <p>
                To accurately compute distances between geographic points, we used the <strong>Haversine formula</strong>, which accounts for the Earth's curvature based on latitude and longitude.
            </p>
            <p>
                The final output is visualized using <strong>Folium maps</strong>, displaying the predicted shortest path between two selected locations.
            </p>
        </section>

        <section style="width: 100%; margin: 0 auto;">
            <figure style="margin: 2rem 0; text-align: center;">
                <img src="img/traffic_map.png" alt="Traffic sensor map of San Francisco"
                     style="max-width:600px; width: 100%; height:auto; border:1px solid #ccc; margin-bottom: 1.5rem;" />
                <figcaption style="font-style: italic; color: #666; margin-top: 0.5rem;">
                    Figure 4: Predicted Route.
                </figcaption>
            </figure>
        </section>

        <section style="width: 100%; margin: 0 auto;">
            <h2>Conclusion</h2>
            <p>
                This project provided valuable hands-on experience in preprocessing and modeling time series data,
                as well as a deeper understanding of the challenges involved in making accurate predictions. It also
                allowed me to explore and apply lesser-known Python libraries, contributing to a more comprehensive
                and well-rounded solution.
            </p>
        </section>
    </article>
</main>
<footer>
    <p>Designed and Developed by <span>Madhu Siddharth Suthagar</span></p>
</footer>
<script type="text/javascript" src="js/main.js"></script>
</body>
</html>
